import{r as u,g as R,B as Ce,C as Me,c as r,b as e,a as E,p as _,e as f,t as l,w as T,u as se,l as ae,F as v,q as w,n as c,j as p,x as le,d as je,v as b,o,m as Q,z as X,G as z}from"./app-DzKkwl6A.js";import{l as h,c as re}from"./confetti.module-D4zSDwt8.js";import{_ as Ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ie={class:"relative min-h-screen overflow-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50"},Ue={class:"relative z-10"},Ee={class:"border-b py-2 border-slate-200 bg-white/90 backdrop-blur dark:border-slate-800 dark:bg-slate-950/80"},Te={class:"mx-auto max-w-6xl px-4 sm:px-6 py-2 flex items-center justify-between"},Oe={class:"px-4 flex items-center gap-3"},Ae={key:0,class:"inline-flex hidden sm:flex items-center gap-2 rounded-full border border-rose-300 bg-rose-50 px-3 py-1 text-[11px] text-rose-700 dark:border-rose-500/40 dark:bg-rose-500/10 dark:text-rose-100"},De={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Fe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},$e={class:"hidden md:flex items-center gap-3"},Le={class:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800 dark:text-amber-300"},Be={key:0},Ne={key:1},Re={key:0},ze={key:1},qe={key:0,class:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white/95 dark:bg-slate-900/95 shadow-lg p-3 text-[12px]"},Pe={key:0},We={key:1},He={class:"mx-auto max-w-6xl px-6 py-6 space-y-5"},Ge={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4","aria-label":"Incident summary"},Ye={class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-lg shadow-slate-900/5 dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},Je={class:"mt-2 flex items-end gap-2"},Ke={class:"text-2xl font-semibold"},Qe={class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-lg shadow-slate-900/5 dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},Xe={class:"mt-2 flex items-end gap-2"},Ze={class:"text-2xl font-semibold text-rose-600 dark:text-rose-300"},et={class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-lg shadow-slate-900/5 dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},tt={class:"mt-2 flex items-end gap-2"},st={class:"text-2xl font-semibold"},at={class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-lg shadow-slate-900/5 dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},lt={class:"mt-2 flex items-end gap-2"},rt={class:"text-2xl font-semibold text-emaerald-600 dark:text-emerald-300"},ot={class:"rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-lg shadow-slate-900/5 flex flex-col gap-3 md:flex-row md:items-center md:justify-between dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},dt={class:"flex flex-wrap items-center gap-2 text-[11px]"},nt={class:"flex items-center gap-1"},it=["onClick"],ut={class:"flex items-center gap-1"},pt=["onClick"],xt={class:"flex items-center gap-1"},ct={class:"flex items-center gap-2"},bt={class:"relative w-full md:w-60"},mt={class:"grid w-full max-w-full gap-4 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,1.4fr)]"},gt={class:"w-full max-w-full rounded-2xl border border-slate-200 bg-white p-4 shadow-lg shadow-slate-900/5 flex flex-col dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},ft={class:"mb-2 flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400"},vt={class:"space-y-2 overflow-y-auto max-h-[565px] pr-1 scroll-thin"},kt=["onClick"],wt={class:"flex flex-wrap items-center justify-between gap-2"},ht={class:"flex items-center gap-2"},yt={class:"text-xs font-medium text-slate-900 truncate max-w-[180px] dark:text-slate-100"},_t={class:"flex flex-wrap items-center justify-between gap-2 text-[11px] text-slate-500 dark:text-slate-400"},St={class:"truncate"},Ct={class:"text-slate-800 dark:text-slate-200"},Mt={class:"whitespace-nowrap text-slate-500"},jt={class:"text-[11px] text-slate-500 line-clamp-2 dark:text-slate-400"},Vt={class:"flex flex-wrap gap-1 text-[10px] text-slate-500 dark:text-slate-400"},It={key:0,class:"rounded-xl border border-dashed border-slate-300 bg-white px-4 py-6 text-center text-[11px] text-slate-500 dark:border-slate-700/80 dark:bg-slate-900/60 dark:text-slate-400"},Ut={class:"w-full max-w-full rounded-2xl border border-slate-200 bg-white p-4 shadow-lg shadow-slate-900/5 flex flex-col dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-950/60"},Et={class:"flex items-start justify-between gap-3"},Tt={class:"space-y-1"},Ot={class:"flex items-center gap-2"},At={key:0,class:"inline-flex items-center gap-1 rounded-full bg-rose-50 px-2 py-0.5 text-[10px] text-rose-700 border border-rose-200 dark:bg-rose-500/15 dark:text-rose-200 dark:border-rose-500/40"},Dt={class:"text-[11px] text-slate-500"},Ft={class:"text-sm font-semibold text-slate-900 dark:text-slate-50"},$t={class:"text-[11px] text-slate-600 dark:text-slate-300"},Lt={class:"flex flex-col items-end gap-1 text-[11px] text-slate-500 dark:text-slate-400"},Bt={class:"text-slate-900 dark:text-slate-200"},Nt={class:"text-slate-900 dark:text-slate-200"},Rt={class:"text-slate-900 dark:text-slate-200"},zt={class:"mt-2 flex flex-wrap items-center gap-2 text-[10px] text-slate-500 dark:text-slate-400"},qt=["onClick"],Pt={class:"mt-3 flex flex-wrap gap-2 text-[10px] text-slate-700 dark:text-slate-300"},Wt={class:"rounded-full bg-slate-100 px-3 py-1 dark:bg-slate-800/80"},Ht={class:"rounded-full bg-slate-100 px-3 py-1 dark:bg-slate-800/80"},Gt={class:"rounded-full bg-slate-100 px-3 py-1 dark:bg-slate-800/80"},Yt={class:"mt-4 grid gap-4 md:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)]"},Jt={class:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40"},Kt={class:"mb-2 flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-400"},Qt={class:"max-h-[395px] overflow-y-auto pr-1 scroll-thin"},Xt={class:"relative border-l border-slate-200 pl-3 space-y-3 text-[11px] dark:border-slate-700/70"},Zt={class:"flex items-center justify-between gap-2"},es={class:"font-medium text-slate-900 dark:text-slate-100"},ts={class:"whitespace-nowrap text-slate-500 dark:text-slate-500"},ss={class:"mt-0.5 text-slate-700 dark:text-slate-300"},as={class:"mt-0.5 text-slate-500"},ls={class:"space-y-3"},rs={class:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-[11px] dark:border-slate-800 dark:bg-slate-950/40"},os={class:"mb-2 flex items-center justify-between"},ds={class:"text-slate-500 dark:text-slate-400"},ns={class:"space-y-1.5"},is={class:"flex items-start gap-2"},us={class:"flex-1 min-w-0"},ps={class:"text-slate-900 text-[11px] break-words dark:text-slate-200"},xs={class:"text-[11px] text-slate-500 dark:text-slate-500"},cs={class:"flex flex-wrap gap-1 mt-1"},bs=["onClick"],ms={key:1,class:"flex h-full items-center justify-center text-[11px] text-slate-500 dark:text-slate-400"},gs={key:0,class:"fixed inset-0 z-[200] flex items-start justify-center overflow-y-auto bg-slate-900/40 backdrop-blur-sm dark:bg-slate-950/70"},fs={class:"w-full sm:mt-32 max-w-lg rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl shadow-slate-900/20 dark:border-slate-800 dark:bg-slate-900 dark:shadow-slate-950/80"},vs={class:"grid gap-3 md:grid-cols-2"},ks={class:"space-y-1"},ws={class:"space-y-1"},hs={class:"grid gap-3 md:grid-cols-2"},ys={class:"space-y-1"},_s={class:"space-y-1"},Ss={class:"space-y-1"},Cs={class:"grid gap-3 md:grid-cols-2"},Ms={class:"space-y-1"},js={class:"space-y-1"},Vs={key:0,class:"fixed inset-0 z-[210] flex items-center justify-center bg-slate-900/40 backdrop-blur-sm dark:bg-slate-950/70"},Is={class:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl shadow-slate-900/20 dark:border-slate-800 dark:bg-slate-900 dark:shadow-slate-950/80"},Us={class:"flex items-start justify-between gap-3 mb-3"},Es={class:"mb-3 text-[11px] text-slate-700 dark:text-slate-300"},Ts={class:"font-semibold"},Os={class:"font-semibold text-emerald-600 dark:text-emerald-300"},As={class:"font-mono text-slate-900 dark:text-slate-100"},Ds={class:"space-y-1"},Fs={class:"space-y-1"},$s={class:"mt-3 flex justify-end gap-2"},Ls={key:0,class:"fixed inset-0 z-[205] flex items-center justify-center bg-slate-900/40 backdrop-blur-sm dark:bg-slate-950/70"},Bs={class:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl shadow-slate-900/20 dark:border-slate-800 dark:bg-slate-900 dark:shadow-slate-950/80"},Ns={class:"space-y-1"},Rs={class:"space-y-1"},zs={__name:"Dashboard",props:{incidents:{type:Array,default:()=>[]}},setup(oe){const de=oe,V=u(!1),ne=()=>V.value=!V.value,q=()=>V.value=!1,O=R(()=>de.incidents||[]),A=u("24h"),S=u("all"),D=u("all"),P=u(""),I=u(null),W=u(new Date),F=u(!1),i=u({title:"",system:"",severity:"SEV2",summary:"",impacted_users:"",impacted_regions_raw:"",tags_raw:""}),U=u(!1),x=u({incidentId:null,fromStatus:"",toStatus:"",note:"",actor:""}),H=u(!1),k=u({label:"",owner:""}),C=u("dark"),$=a=>{if(C.value=a,typeof window>"u")return;const t=window.document.documentElement;a==="dark"?t.classList.add("dark"):t.classList.remove("dark"),window.localStorage.setItem("theme",a)};let G=null;Ce(()=>{if(typeof window<"u"){const a=window.localStorage.getItem("theme");if(a==="light"||a==="dark")$(a);else{const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;$(t?"dark":"light")}}O.value.length&&!I.value&&(I.value=O.value[0].id),G=window.setInterval(()=>{W.value=new Date},60*1e3)}),Me(()=>{G&&window.clearInterval(G)});function ie(){var a;k.value={label:"",owner:((a=d.value)==null?void 0:a.owner)||""},H.value=!0}function Y(){H.value=!1,k.value={label:"",owner:""}}function ue(){if(!d.value)return;const a={incident_id:d.value.id,label:k.value.label,owner:k.value.owner||null};z.post(`/incident-command/incidents/${d.value.id}/follow-ups`,a,{preserveScroll:!0,preserveState:!1,onSuccess:()=>{h.success("Follow up created"),Y()},onError:()=>{h.error("Could not create follow up. Please check the form.")}})}function pe(){if(typeof window>"u")return;const t=Date.now()+2e3;(function s(){re({particleCount:4,angle:60,spread:55,origin:{x:0}}),re({particleCount:4,angle:120,spread:55,origin:{x:1}}),Date.now()<t&&requestAnimationFrame(s)})()}function xe(){F.value=!0}function Z(){F.value=!1}function ce(a,t){!a||!t||a.status===t||(x.value={incidentId:a.id,fromStatus:a.status,toStatus:t,note:"",actor:a.owner||"On call engineer"},U.value=!0)}function be(){const a=x.value;if(!a.incidentId||!a.toStatus)return;const t=a.toStatus==="resolved"&&a.fromStatus!=="resolved",s={status:a.toStatus,status_actor:a.actor||null,status_note:a.note||null};z.patch(`/incident-command/incidents/${a.incidentId}`,s,{preserveScroll:!0,preserveState:!1,onSuccess:()=>{t&&pe(),h.success("Incident status updated"),U.value=!1,x.value={incidentId:null,fromStatus:"",toStatus:"",note:"",actor:""}},onError:()=>{h.error("Could not update status. Please try again.")}})}function me(){const a={title:i.value.title,system:i.value.system,severity:i.value.severity,summary:i.value.summary,impacted_users:i.value.impacted_users||null,impacted_regions:(i.value.impacted_regions_raw||"").split(",").map(t=>t.trim()).filter(Boolean),tags:(i.value.tags_raw||"").split(",").map(t=>t.trim()).filter(Boolean)};z.post("/incident-command/incidents",a,{preserveScroll:!0,preserveState:!1,onSuccess:()=>{h.success("New incident created"),i.value={title:"",system:"",severity:"SEV2",summary:"",impacted_users:"",impacted_regions_raw:"",tags_raw:""},F.value=!1},onError:()=>{h.error("Could not create incident. Please check the form.")}})}function ge(a){const t=(a||"").toLowerCase();return t==="detected"||t==="reported"||t==="alert"?"bg-rose-400":t==="triage"||t==="investigating"?"bg-sky-400":t==="mitigation"||t==="mitigating"?"bg-amber-400":t==="monitoring"||t==="communication"?"bg-sky-300":t==="resolved"?"bg-emerald-400":t==="follow_up"?"bg-indigo-400":"bg-slate-400"}function fe(a,t){!a||!t||z.patch(`/incident-command/follow-ups/${a}`,{status:t},{preserveScroll:!0,preserveState:!0})}async function ee(){try{await axios.post("/logout")}catch{h.error("There was a problem logging you out. Please try again.");return}window.localStorage.removeItem("taskflow_api_key"),h.success("You have been logged out"),window.location.href="/"}function ve(a){return a==="open"?"Open":a==="in_progress"?"In progress":a==="done"?"Done":a}function L(a){const t=new Date(a),s=W.value.getTime()-t.getTime(),n=Math.round(s/6e4),m=Math.round(s/(60*6e4));return n<1?"just now":n<60?`${n} min ago`:m<24?`${m} h ago`:`${Math.round(m/24)} d ago`}function ke(a){if(A.value==="all")return!0;const t=new Date(a.startedAt).getTime(),n={"24h":24,"7d":168,"30d":720}[A.value]??24,m=W.value.getTime()-n*60*60*1e3;return t>=m}function B(a){switch(a){case"investigating":return"Investigating";case"mitigating":return"Mitigation in progress";case"monitoring":return"Monitoring";case"resolved":return"Resolved";default:return a}}function te(a){switch(a){case"SEV1":return"bg-rose-500/15 text-rose-300 border border-rose-500/40";case"SEV2":return"bg-amber-500/15 text-amber-200 border border-amber-500/40";case"SEV3":return"bg-sky-500/15 text-sky-200 border border-sky-500/40";default:return"bg-slate-700/40 text-slate-100 border border-slate-500/40"}}function we(a){return a==="resolved"?"bg-emerald-500/10 text-emerald-300 border border-emerald-500/40":a==="monitoring"?"bg-sky-500/10 text-sky-200 border border-sky-500/40":a==="mitigating"?"bg-amber-500/10 text-amber-200 border border-amber-500/40":"bg-rose-500/10 text-rose-200 border border-rose-500/40"}function he(a){return a.status==="investigating"||a.status==="mitigating"}const y=R(()=>{const a=P.value.trim().toLowerCase();return O.value.filter(t=>{var n;return!ke(t)||S.value!=="all"&&t.severity!==S.value||D.value!=="all"&&t.status!==D.value?!1:a?[t.title,t.system,t.summary,((n=t.tags)==null?void 0:n.join(" "))??"",t.key].join(" ").toLowerCase().includes(a):!0}).sort((t,s)=>new Date(s.startedAt).getTime()-new Date(t.startedAt).getTime())}),d=R(()=>I.value?y.value.find(a=>a.id===I.value)??y.value[0]??null:y.value[0]??null),M=R(()=>{const a=O.value,t=["investigating","mitigating","monitoring"],s=a.filter(g=>t.includes(g.status)),n=s.filter(g=>g.severity==="SEV1"),m=a.filter(g=>g.status==="resolved");let J=null;if(m.length){const g=m.reduce((K,j)=>{const N=new Date(j.startedAt).getTime(),Se=new Date(j.lastUpdatedAt||j.startedAt).getTime();return K+(Se-N)/6e4},0);J=Math.round(g/m.length)}const _e=a.reduce((g,K)=>{var j;return g+(((j=K.followUps)==null?void 0:j.filter(N=>N.status==="open"||N.status==="in_progress").length)||0)},0);return{totalOpen:s.length,sev1Open:n.length,mttrMinutes:J,followUpsOpen:_e}});function ye(a){I.value=a}return(a,t)=>(o(),r("div",Ie,[t[74]||(t[74]=e("div",{class:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(18,163,184,0.2)_0,_transparent_55%),_linear-gradient(to_bottom,_rgba(15,23,42,0.04)_0,_rgba(15,23,42,0.35)_55%),_radial-gradient(circle_at_bottom,_rgba(56,189,248,0.25)_0,_transparent_60%)] dark:bg-[radial-gradient(circle_at_top,_rgba(18,163,184,0.25)_0,_transparent_55%),_linear-gradient(to_bottom,_rgba(15,23,42,0.7)_0,_rgba(15,23,42,1)_55%),_radial-gradient(circle_at_bottom,_rgba(56,189,248,0.1)_0,_rgba(15,23,42,1)_60%)]"},null,-1)),t[75]||(t[75]=e("div",{class:"pointer-events-none absolute inset-0 opacity-30 dark:mix-blend-soft-light [background-image:linear-gradient(to_right,#e2e8f0_1px,transparent_1px),linear-gradient(to_bottom,#e2e8f0_1px,transparent_1px)] [background-size:56px_56px] dark:[background-image:linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)]"},null,-1)),e("div",Ue,[e("header",Ee,[e("div",Te,[t[24]||(t[24]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-emerald-400 to-cyan-500 text-xs font-semibold text-slate-950 shadow shadow-emerald-400/60"}," IC "),e("div",null,[e("div",{class:"text-[10px] sm:text-[11px] font-semibold uppercase tracking-[0.22em] text-emerald-500 dark:text-emerald-400"}," Incident Command Center "),e("div",{class:"text-[10px] sm:text-[11px] text-slate-500 dark:text-slate-400"}," Operations grade dashboard demo ")])],-1)),e("div",Oe,[e("button",{onClick:xe,class:"inline-flex items-center gap-1 rounded-full bg-emerald-500 px-3 py-1 text-[11px] font-semibold text-slate-950 shadow hover:bg-emerald-400"},[...t[19]||(t[19]=[e("span",{class:"text-sm"},"ï¼‹",-1),e("p",{class:"hidden sm:flex"},"New incident",-1)])]),M.value.sev1Open>0?(o(),r("div",Ae,[t[20]||(t[20]=e("span",{class:"relative flex h-2 w-2"},[e("span",{class:"absolute inline-flex h-full w-full animate-ping rounded-full bg-rose-400 opacity-75"}),e("span",{class:"relative inline-flex h-2 w-2 rounded-full bg-rose-400"})],-1)),f(" "+l(M.value.sev1Open)+" active SEV1 ",1)])):_("",!0)]),e("button",{type:"button",class:"md:hidden inline-flex items-center justify-center rounded-full border border-slate-300 bg-white px-2.5 py-1.5 text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:hover:bg-slate-800",onClick:ne},[V.value?(o(),r("svg",Fe,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(o(),r("svg",De,[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))]),e("div",$e,[e("button",{type:"button",class:"inline-flex items-center gap-2 rounded-full border border-slate-300/80 bg-white/70 px-3 py-1.5 text-[11px] text-slate-700 shadow dark:border-slate-700/70 dark:bg-slate-900/80 dark:text-slate-300 hover:border-emerald-400/80 dark:hover:border-emerald-400/80",onClick:t[0]||(t[0]=s=>$(C.value==="dark"?"light":"dark"))},[e("span",Le,[C.value==="dark"?(o(),r("span",Be,"â˜¾")):(o(),r("span",Ne,"â˜€"))]),C.value==="dark"?(o(),r("span",Re,"Dark mode")):(o(),r("span",ze,"Light mode"))]),e("button",{type:"button",class:"text-xs px-3 py-1.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800 transition",onClick:ee}," Logout "),E(se(ae),{href:"/",class:"text-[11px] inline-flex items-center gap-1 rounded-full border border-slate-300 px-3 py-1 text-slate-700 hover:border-emerald-400 hover:text-emerald-500 dark:border-slate-700 dark:text-slate-200"},{default:T(()=>[...t[23]||(t[23]=[f(" â† Back to portfolio ",-1)])]),_:1})])]),V.value?(o(),r("div",qe,[e("button",{class:"w-full flex justify-between items-center px-2 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",onClick:t[1]||(t[1]=s=>{$(C.value==="dark"?"light":"dark"),q()})},[t[25]||(t[25]=e("span",null,"Light / Dark mode",-1)),C.value==="dark"?(o(),r("span",Pe,"â˜¾")):(o(),r("span",We,"â˜€"))]),e("button",{class:"w-full flex justify-between items-center px-2 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 mt-1",onClick:t[2]||(t[2]=s=>{ee(),q()})}," Logout "),E(se(ae),{href:"/",class:"w-full flex justify-between items-center px-2 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 mt-1",onClick:q},{default:T(()=>[...t[26]||(t[26]=[e("span",null,"Back to portfolio",-1),e("span",{"aria-hidden":"true"},"â†",-1)])]),_:1})])):_("",!0)]),e("main",He,[e("section",Ge,[e("article",Ye,[t[28]||(t[28]=e("div",{class:"text-[11px] uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400"}," Open incidents ",-1)),e("div",Je,[e("div",Ke,l(M.value.totalOpen),1),t[27]||(t[27]=e("span",{class:"text-[11px] text-slate-500"}," in active investigation or monitoring ",-1))])]),e("article",Qe,[t[30]||(t[30]=e("div",{class:"flex items-center justify-between"},[e("div",{class:"text-[11px] uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400"}," Critical impact "),e("span",{class:"h-1.5 w-1.5 rounded-full bg-rose-400 animate-pulse"})],-1)),e("div",Xe,[e("div",Ze,l(M.value.sev1Open),1),t[29]||(t[29]=e("span",{class:"text-[11px] text-slate-500"}," active SEV1 incidents ",-1))])]),e("article",et,[t[32]||(t[32]=e("div",{class:"text-[11px] uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400"}," MTTR demo ",-1)),e("div",tt,[e("div",st,l(M.value.mttrMinutes??"â€“"),1),t[31]||(t[31]=e("span",{class:"text-[11px] text-slate-500"}," min average resolution ",-1))])]),e("article",at,[t[34]||(t[34]=e("div",{class:"text-[11px] uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400"}," Follow ups ",-1)),e("div",lt,[e("div",rt,l(M.value.followUpsOpen),1),t[33]||(t[33]=e("span",{class:"text-[11px] text-slate-500"}," open action items ",-1))])])]),e("section",ot,[e("div",dt,[t[39]||(t[39]=e("span",{class:"uppercase tracking-[0.18em] text-slate-500 dark:text-slate-500"}," Filters ",-1)),e("div",nt,[t[35]||(t[35]=e("span",{class:"text-slate-500"},"Time",-1)),(o(),r(v,null,w(["24h","7d","30d","all"],s=>e("button",{key:s,type:"button",class:c(["rounded-full px-2 py-1 border text-[11px]",A.value===s?"border-emerald-400 bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200":"border-slate-300 bg-white text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 dark:hover:border-slate-500"]),onClick:n=>A.value=s},l(s==="all"?"All time":s),11,it)),64))]),e("div",ut,[t[36]||(t[36]=e("span",{class:"text-slate-500"},"Severity",-1)),e("button",{type:"button",class:c(["rounded-full px-2 py-1 border text-[11px]",S.value==="all"?"border-emerald-400 bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200":"border-slate-300 bg-white text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 dark:hover:border-slate-500"]),onClick:t[3]||(t[3]=s=>S.value="all")}," All ",2),(o(),r(v,null,w(["SEV1","SEV2","SEV3"],s=>e("button",{key:s,type:"button",class:c(["rounded-full px-2 py-1 border text-[11px]",S.value===s?"border-emerald-400 bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200":"border-slate-300 bg-white text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 dark:hover:border-slate-500"]),onClick:n=>S.value=s},l(s),11,pt)),64))]),e("div",xt,[t[38]||(t[38]=e("span",{class:"text-slate-500"},"Status",-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>D.value=s),class:"rounded-full border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"},[...t[37]||(t[37]=[je('<option value="all" data-v-84958606>All</option><option value="investigating" data-v-84958606>Investigating</option><option value="mitigating" data-v-84958606>Mitigating</option><option value="monitoring" data-v-84958606>Monitoring</option><option value="resolved" data-v-84958606>Resolved</option>',5)])],512),[[le,D.value]])])]),e("div",ct,[e("div",bt,[p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>P.value=s),type:"search",placeholder:"Search incidents by title, key, system",class:"w-full rounded-full border border-slate-300 bg-white pl-8 pr-3 py-1.5 text-[11px] text-slate-700 placeholder:text-slate-400 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:placeholder:text-slate-500"},null,512),[[b,P.value]]),t[40]||(t[40]=e("span",{class:"pointer-events-none absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"}," ðŸ”Ž ",-1))])])]),e("section",mt,[e("div",gt,[e("div",ft,[e("span",null,l(y.value.length)+" incident"+l(y.value.length===1?"":"s")+" in view ",1)]),e("div",vt,[(o(!0),r(v,null,w(y.value,s=>(o(),r("button",{key:s.id,type:"button",class:c(["w-full text-left rounded-xl border px-3 py-2.5 transition flex flex-col gap-1.5",["border-slate-200 bg-white hover:border-emerald-400/60 hover:bg-emerald-50/40 dark:border-slate-800 dark:bg-slate-900/80 dark:hover:bg-slate-900",d.value&&d.value.id===s.id?"ring-1 ring-emerald-400/70":""]]),onClick:n=>ye(s.id)},[e("div",wt,[e("div",ht,[e("span",{class:c(["rounded-full px-2 py-0.5 text-[10px] font-mono",te(s.severity)])},l(s.severity),3),e("span",yt,l(s.title),1)]),e("span",{class:c(["rounded-full px-2 py-0.5 text-[10px]",we(s.status)])},l(B(s.status)),3)]),e("div",_t,[e("span",St,[t[41]||(t[41]=e("span",{class:"text-slate-500"},"System",-1)),t[42]||(t[42]=e("span",{class:"mx-1"},"Â·",-1)),e("span",Ct,l(s.system),1)]),e("span",Mt," Started "+l(L(s.startedAt)),1)]),e("p",jt,l(s.summary),1),e("div",Vt,[(o(!0),r(v,null,w(s.tags,n=>(o(),r("span",{key:n,class:"rounded-full bg-slate-100 px-2 py-0.5 dark:bg-slate-800/80"},l(n),1))),128))])],10,kt))),128)),y.value.length===0?(o(),r("div",It," No incidents match the current filters. Adjust the severity, status, or time window to explore the incident data. ")):_("",!0)])]),e("div",Ut,[d.value?(o(),r(v,{key:0},[e("div",Et,[e("div",Tt,[e("div",Ot,[e("span",{class:c(["rounded-full px-2 py-0.5 text-[10px] font-mono",te(d.value.severity)])},l(d.value.severity),3),he(d.value)?(o(),r("span",At,[...t[43]||(t[43]=[e("span",{class:"h-1.5 w-1.5 rounded-full bg-rose-400 animate-pulse"},null,-1),f(" Live ",-1)])])):_("",!0),e("span",Dt,l(d.value.key),1)]),e("h2",Ft,l(d.value.title),1),e("p",$t,l(d.value.summary),1)]),e("div",Lt,[e("span",null,[t[44]||(t[44]=f(" Owner ",-1)),e("span",Bt,l(d.value.owner),1)]),e("span",null,[t[45]||(t[45]=f(" Started ",-1)),e("span",Nt,l(L(d.value.startedAt)),1)]),e("span",null,[t[46]||(t[46]=f(" Updated ",-1)),e("span",Rt,l(L(d.value.lastUpdatedAt||d.value.startedAt)),1)])])]),e("div",zt,[t[47]||(t[47]=e("span",{class:"text-slate-500"}," Status: ",-1)),(o(),r(v,null,w(["investigating","mitigating","monitoring","resolved"],s=>e("button",{key:s,type:"button",class:c(["rounded-full border px-2 py-0.5",s===d.value.status?"border-emerald-400 bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200":"border-slate-300 bg-white text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 dark:hover:border-slate-500"]),onClick:n=>ce(d.value,s)},l(B(s)),11,qt)),64))]),e("div",Pt,[e("span",Wt," System: "+l(d.value.system),1),e("span",Ht," Regions: "+l(d.value.impactedRegions.join(", ")),1),e("span",Gt," Impact: "+l(d.value.impactedUsers),1)]),e("div",Yt,[e("div",Jt,[e("div",Kt,[t[48]||(t[48]=e("span",{class:"uppercase tracking-[0.16em] text-slate-500 dark:text-slate-500"}," Timeline of events ",-1)),e("span",null,l(d.value.timeline.length)+" step "+l(d.value.timeline.length===1?"":"s"),1)]),e("div",Qt,[e("ol",Xt,[(o(!0),r(v,null,w(d.value.timeline,s=>(o(),r("li",{key:s.id,class:"relative pl-3"},[e("span",{class:c(["absolute -left-2.5 top-1 h-2.5 w-2.5 rounded-full border border-white dark:border-slate-900",ge(s.type)])},null,2),e("div",Zt,[e("p",es,l(s.label),1),e("span",ts,l(L(s.at)),1)]),e("p",ss,l(s.detail),1),e("p",as,l(s.actor),1)]))),128))])])]),e("div",ls,[e("div",rs,[e("div",os,[t[49]||(t[49]=e("span",{class:"uppercase tracking-[0.16em] text-slate-500 dark:text-slate-500"}," Follow up work ",-1)),e("span",ds,l(d.value.followUps.length)+" item"+l(d.value.followUps.length===1?"":"s"),1)]),e("ul",ns,[(o(!0),r(v,null,w(d.value.followUps,s=>(o(),r("li",{key:s.id,class:"rounded-lg border border-slate-200 bg-white px-3 py-2 flex flex-col gap-1.5 dark:border-slate-800 dark:bg-slate-950/60"},[e("div",is,[e("span",{class:c(["mt-1 h-1.5 w-1.5 rounded-full flex-shrink-0",{"bg-emerald-400":s.status==="done","bg-sky-400":s.status==="in_progress","bg-amber-400":s.status==="open","bg-slate-500":!["open","in_progress","done"].includes(s.status)}])},null,2),e("div",us,[e("p",ps,l(s.label),1),e("p",xs," Owner: "+l(s.owner),1)])]),e("div",cs,[(o(),r(v,null,w(["open","in_progress","done"],n=>e("button",{key:n,type:"button",class:c(["rounded-full px-2 py-0.5 text-[10px] border",n===s.status?"border-emerald-400 bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200":"border-slate-300 bg-white text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 dark:hover:border-slate-500"]),onClick:m=>fe(s.id,n)},l(ve(n)),11,bs)),64))])]))),128))]),e("div",{class:"flex items-center gap-2 mt-2"},[e("button",{type:"button",onClick:ie,class:"rounded-full bg-emerald-500 px-3 py-1 text-[11px] font-semibold text-slate-950 hover:bg-emerald-400"}," New follow up ")])]),t[50]||(t[50]=e("div",{class:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-[11px] dark:border-slate-800 dark:bg-slate-950/40"},[e("p",{class:"uppercase tracking-[0.16em] text-slate-500 mb-1.5 dark:text-slate-500"}," How this demonstrates my experience "),e("p",{class:"text-slate-700 mb-1.5 dark:text-slate-300"}," In the real version of this tool, incidents would be driven by database models and API endpoints. The same patterns I used for TaskFlow apply: "),e("ul",{class:"list-disc pl-4 space-y-0.5 text-slate-600 dark:text-slate-400"},[e("li",null,"Normalized incident, event, and follow up tables"),e("li",null,"Read optimized queries for the list plus detail view"),e("li",null,"Server side filters backed by indexes for severity and time"),e("li",null,"Streaming updates via polling or websockets for live incidents")])],-1))])])],64)):(o(),r("div",ms," Choose an incident from the left to view its impact, timeline, and follow up work. "))])])])]),E(X,{name:"fade"},{default:T(()=>[F.value?(o(),r("div",gs,[e("div",fs,[e("div",{class:"flex items-start justify-between gap-3 mb-3"},[t[51]||(t[51]=e("div",null,[e("h2",{class:"text-sm font-semibold text-slate-900 dark:text-slate-50"}," Open new incident "),e("p",{class:"text-[11px] text-slate-500 dark:text-slate-400"}," Capture the key context so it shows up in the command center. ")],-1)),e("button",{type:"button",onClick:Z,class:"text-slate-400 hover:text-slate-900 text-sm dark:hover:text-slate-100"}," âœ• ")]),e("form",{class:"space-y-3",onSubmit:Q(me,["prevent"])},[e("div",vs,[e("div",ks,[t[52]||(t[52]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Title",-1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>i.value.title=s),type:"text",required:"",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"Spike in 5xx from payment service"},null,512),[[b,i.value.title]])]),e("div",ws,[t[53]||(t[53]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"System",-1)),p(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>i.value.system=s),type:"text",required:"",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"Payments, auth, search..."},null,512),[[b,i.value.system]])])]),e("div",hs,[e("div",ys,[t[55]||(t[55]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Severity",-1)),p(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>i.value.severity=s),class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50"},[...t[54]||(t[54]=[e("option",{value:"SEV1"},"SEV1 - critical",-1),e("option",{value:"SEV2"},"SEV2 - major",-1),e("option",{value:"SEV3"},"SEV3 - minor",-1)])],512),[[le,i.value.severity]])]),e("div",_s,[t[56]||(t[56]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Impacted users",-1)),p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>i.value.impacted_users=s),type:"text",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"About 20 percent of checkouts"},null,512),[[b,i.value.impacted_users]])])]),e("div",Ss,[t[57]||(t[57]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Summary",-1)),p(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>i.value.summary=s),rows:"3",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"What is happening, what is currently known, suspected root cause..."},null,512),[[b,i.value.summary]])]),e("div",Cs,[e("div",Ms,[t[58]||(t[58]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Impacted regions",-1)),p(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>i.value.impacted_regions_raw=s),type:"text",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"US-East, US-West"},null,512),[[b,i.value.impacted_regions_raw]]),t[59]||(t[59]=e("p",{class:"text-[10px] text-slate-500 dark:text-slate-500"}," Comma separated. Will show as chips. ",-1))]),e("div",js,[t[60]||(t[60]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Tags",-1)),p(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>i.value.tags_raw=s),type:"text",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"payments, 5xx, checkout"},null,512),[[b,i.value.tags_raw]]),t[61]||(t[61]=e("p",{class:"text-[10px] text-slate-500 dark:text-slate-500"}," Comma separated tags for search and filter. ",-1))])]),e("div",{class:"mt-3 flex justify-end gap-2"},[e("button",{type:"button",onClick:Z,class:"rounded-full border border-slate-300 px-3 py-1.5 text-[11px] text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:text-slate-200 dark:hover:border-slate-500"}," Cancel "),t[62]||(t[62]=e("button",{type:"submit",class:"rounded-full bg-emerald-500 px-4 py-1.5 text-[11px] font-semibold text-slate-950 hover:bg-emerald-400"}," Create incident ",-1))])],32)])])):_("",!0)]),_:1}),E(X,{name:"fade"},{default:T(()=>{var s;return[U.value?(o(),r("div",Vs,[e("div",Is,[e("div",Us,[t[63]||(t[63]=e("div",null,[e("h2",{class:"text-sm font-semibold text-slate-900 dark:text-slate-50"}," Update incident status "),e("p",{class:"text-[11px] text-slate-500 dark:text-slate-400"}," Add a short note so the timeline tells the story of this change. ")],-1)),e("button",{type:"button",onClick:t[13]||(t[13]=n=>U.value=!1),class:"text-slate-400 hover:text-slate-900 text-sm dark:hover:text-slate-100"}," âœ• ")]),e("div",Es,[e("p",null,[t[64]||(t[64]=f(" Changing from ",-1)),e("span",Ts,l(B(x.value.fromStatus)||x.value.fromStatus),1),t[65]||(t[65]=f(" to ",-1)),e("span",Os,l(B(x.value.toStatus)||x.value.toStatus),1),t[66]||(t[66]=f(" for ",-1)),e("span",As,l((s=d.value)==null?void 0:s.key),1)])]),e("form",{class:"space-y-3",onSubmit:Q(be,["prevent"])},[e("div",Ds,[t[67]||(t[67]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"Actor",-1)),p(e("input",{"onUpdate:modelValue":t[14]||(t[14]=n=>x.value.actor=n),type:"text",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"On call engineer, SRE, support lead..."},null,512),[[b,x.value.actor]])]),e("div",Fs,[t[68]||(t[68]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"},"What changed",-1)),p(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=n=>x.value.note=n),rows:"3",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"Mitigation applied, rollback completed, traffic shifted, alerts cleared..."},null,512),[[b,x.value.note]])]),e("div",$s,[e("button",{type:"button",onClick:t[16]||(t[16]=n=>U.value=!1),class:"rounded-full border border-slate-300 px-3 py-1.5 text-[11px] text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:text-slate-200 dark:hover:border-slate-500"}," Cancel "),t[69]||(t[69]=e("button",{type:"submit",class:"rounded-full bg-emerald-500 px-4 py-1.5 text-[11px] font-semibold text-slate-950 hover:bg-emerald-400"}," Save status change ",-1))])],32)])])):_("",!0)]}),_:1}),E(X,{name:"fade"},{default:T(()=>[H.value?(o(),r("div",Ls,[e("div",Bs,[e("div",{class:"flex items-start justify-between gap-3 mb-3"},[t[70]||(t[70]=e("div",null,[e("h2",{class:"text-sm font-semibold text-slate-900 dark:text-slate-50"}," Add follow up action "),e("p",{class:"text-[11px] text-slate-500 dark:text-slate-400"}," Capture post incident work so it does not get lost once the incident is resolved. ")],-1)),e("button",{type:"button",onClick:Y,class:"text-slate-400 hover:text-slate-900 text-sm dark:hover:text-slate-100"}," âœ• ")]),e("form",{class:"space-y-3",onSubmit:Q(ue,["prevent"])},[e("div",Ns,[t[71]||(t[71]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"}," Follow up action ",-1)),p(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>k.value.label=s),type:"text",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"Run post incident review, improve alerts, update playbook...",required:""},null,512),[[b,k.value.label]])]),e("div",Rs,[t[72]||(t[72]=e("label",{class:"text-[11px] text-slate-700 dark:text-slate-300"}," Owner (optional) ",-1)),p(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>k.value.owner=s),type:"text",class:"w-full rounded-md border border-slate-300 bg-white px-2 py-1.5 text-[11px] text-slate-900 focus:outline-none focus:ring-1 focus:ring-emerald-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-50",placeholder:"On call engineer, SRE lead..."},null,512),[[b,k.value.owner]])]),e("div",{class:"mt-3 flex justify-end gap-2"},[e("button",{type:"button",onClick:Y,class:"rounded-full border border-slate-300 px-3 py-1.5 text-[11px] text-slate-700 hover:border-slate-400 dark:border-slate-700 dark:text-slate-200 dark:hover:border-slate-500"}," Cancel "),t[73]||(t[73]=e("button",{type:"submit",class:"rounded-full bg-emerald-500 px-4 py-1.5 text-[11px] font-semibold text-slate-950 hover:bg-emerald-400"}," Save follow up ",-1))])],32)])])):_("",!0)]),_:1})]))}},Hs=Ve(zs,[["__scopeId","data-v-84958606"]]);export{Hs as default};
